<Window x:Class="UserSimulator.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:macroview="clr-namespace:MacroView;assembly=MacroView"
        Title="MainWindow" Height="350" Width="525">
   <Grid>
      
      <!-- row and column definitions -->
      
      <Grid.RowDefinitions>
         <RowDefinition Height="*"/>
         <RowDefinition Height="25"/>
      </Grid.RowDefinitions>
      <Grid.ColumnDefinitions>
         <ColumnDefinition Width="*"/>
         <ColumnDefinition Width="5"/>
         <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>

      <!-- first row -->

      <Grid Grid.Row="0" Grid.Column="0">
         <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
            <StackPanel Orientation="Horizontal">
               <macroview:MacroBaseView DataContext="{Binding ExpressionVM}" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0 0 48 0"/>
               <TextBlock Text="=>" FontWeight="Bold" FontSize="48"/>
               <macroview:MacroBaseView DataContext="{Binding EvaluatedExpressionVM}" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="48 0 0 0"/>
            </StackPanel>
         </ScrollViewer>
      </Grid>

      <GridSplitter Grid.Row="0" Grid.Column="1" Width="5" HorizontalAlignment="Stretch"/>

      <Grid Grid.Row="0" Grid.Column="2">
         <Grid.RowDefinitions>
            <RowDefinition Height="5*"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="2*"/>
         </Grid.RowDefinitions>
         <macroview:LISPishView Text="{Binding Model.ExpressionText}" ParserErrorPosition="{Binding Model.ParserErrorPosition}" Grid.Row="0" FontSize="14"/>
         <GridSplitter Grid.Row="1" Width="5" HorizontalAlignment="Stretch"/>
         <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
            <TextBlock Text="{Binding Model.ParserError}"/>
         </ScrollViewer>
         <ScrollViewer Grid.Row="3" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
            <TextBlock Text="{Binding Model.EvaluatedExpressionText}"/>
         </ScrollViewer>
      </Grid>

      <!-- second row -->

      <StackPanel Orientation="Horizontal" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2">
         <Button Content="Execute" Click="ButtonExecuteClick"/>
         <Button Content="Save" Click="ButtonSaveClick"/>
      </StackPanel>
   </Grid>
</Window>
