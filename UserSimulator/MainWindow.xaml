<Window x:Class="UserSimulator.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:usersimulator="clr-namespace:UserSimulator"
        xmlns:macrovm="clr-namespace:MacroViewModel;assembly=MacroViewModel"
        xmlns:macroview="clr-namespace:MacroView;assembly=MacroView"
        xmlns:avalonEdit="http://icsharpcode.net/sharpdevelop/avalonedit"
        Title="MainWindow" Height="350" Width="525">
   <Grid>
      
      <!-- row and column definitions -->
      
      <Grid.RowDefinitions>
         <RowDefinition Height="*"/>
         <RowDefinition Height="25"/>
      </Grid.RowDefinitions>
      <Grid.ColumnDefinitions>
         <ColumnDefinition Width="5*"/>
         <ColumnDefinition Width="5"/>
         <ColumnDefinition Width="2*"/>
      </Grid.ColumnDefinitions>

      <!-- first row -->

      <Grid DataContext="{Binding ExpressionVM}" Grid.Row="0" Grid.Column="0">
         <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
            <StackPanel>
               <macroview:MacroBaseView/>
               <macroview:MacroBaseView x:Name="_moo"/>
            </StackPanel>
         </ScrollViewer>
      </Grid>

      <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Stretch"/>

      <Grid Grid.Row="0" Grid.Column="2">
         <Grid.RowDefinitions>
            <RowDefinition Height="5*"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="2*"/>
         </Grid.RowDefinitions>
         <avalonEdit:TextEditor x:Name="_codeEditor" ShowLineNumbers="True" LostFocus="CodeEditorLostFocus" Grid.Row="0"/>
         <GridSplitter Grid.Row="1" Width="5" HorizontalAlignment="Stretch"/>
         <TextBlock Text="{Binding Model.ParserError}" Grid.Row="2"/>
      </Grid>

      <!-- second row -->

      <StackPanel Orientation="Horizontal" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2">
         <Button Content="Execute" Click="ButtonExecuteClick"/>
         <Button Content="Save" Click="ButtonSaveClick"/>
      </StackPanel>
   </Grid>
</Window>
